---
import "../../styles/global.css";
import AuthControls from "../react/AuthControls";

const navItems = [
  { href: "/", label: "Home" },
  { href: "/blog", label: "Blog" },
];

type Props = {
  initialUser?: {
    id: string;
    email?: string;
    name?: string;
    role?: string;
  } | null;
};

const { initialUser = null } = Astro.props as Props;

const apiBase =
  import.meta.env.PUBLIC_API_BASE_URL ?? "http://localhost:3000";
---

<header class="border-b border-slate-200 bg-white/90 backdrop-blur-sm">
  <nav
    class="mx-auto flex max-w-5xl flex-col items-center gap-4 px-4 py-6 sm:flex-row sm:justify-between sm:px-6"
  >
    <a
      class="text-xl font-semibold text-slate-900 transition hover:text-indigo-500"
      href="/"
    >
      NovaCMS
    </a>

    <div class="flex flex-col items-center gap-4 sm:flex-row sm:gap-6">
      <ul class="flex list-none items-center gap-6 p-0 text-sm font-medium text-slate-700">
        {
          navItems.map((item) => (
            <li>
              <a class="transition hover:text-indigo-500" href={item.href}>
                {item.label}
              </a>
            </li>
          ))
        }
      </ul>
      <AuthControls client:load apiBase={apiBase} initialUser={initialUser} />
    </div>
  </nav>
</header>
